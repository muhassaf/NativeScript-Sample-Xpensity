<Page xmlns="http://www.nativescript.org/tns.xsd"
      xmlns:g="components/grid-view/grid-view"
      loaded="pageLoaded">
  <GridLayout rows="auto, *">
    <Label text="MY REPORTS" cssClass="header" />
    
    <ScrollView row="1" >
      <g:GridView items="{{ reports }}" gridColumns="2" cssClass="reportsGrid" itemTap="reportTap">
        <g:GridView.itemTemplate>
          <Border borderWidth="2" borderColor="#DEDDDD" cssClass="tile" >
            <StackLayout orientation="vertical">
              <Image src="~/res/approved-gray.png" cssClass="icon" stretch="fill" style="horizontal-align: right;" />
              <PieChart items="{{ expensesByCategory }}" valueProperty="Total" cssClass="pieChart" />
              <Label text="{{ report.Title }}" cssClass="itemHeader" />
              <Label text="{{ report.CreatedOn }}" cssClass="itemSubHeader" />
            </StackLayout>
          </Border>
        </g:GridView.itemTemplate>
      </g:GridView>
    </ScrollView>

    <AbsoluteLayout row="1" cssClass="fabContainer" style.visibility="{{ androidVisibility }}" >
      <Image src="~/res/FAB_add.png" tap="addReportTap" stretch="fill" cssClass="fab" />
    </AbsoluteLayout>

    <ActivityIndicator rowSpan="2" busy="{{ isLoading }}" />
  </GridLayout>
</Page>